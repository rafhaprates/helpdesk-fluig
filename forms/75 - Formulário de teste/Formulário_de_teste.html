<!DOCTYPE html>
	<html>
		<head>
			<title>Form</title>

            <link rel="stylesheet" type="text/css" href="/resources/style-guide/css/fluig-style-guide.min.css">
            <script src="/resources/js/jquery/jquery.js"></script>
            <script src="/resources/js/jquery/jquery-ui.min.js"></script>
            <script src="/resources/js/mustache/mustache-min.js"></script>
            <script src="/resources/style-guide/js/fluig-style-guide.min.js"></script>

            <!-- CUSTOM -->
            <link href="/resources/style-guide/css/fluig-style-guide-filter.min.css" rel="stylesheet" type="text/css">
            <link href="/resources/style-guide/css/fluig-style-guide-ratingstars.min.css" rel="stylesheet" type="text/css">
            <script src="/resources/style-guide/js/fluig-style-guide-filter.min.js"></script>
            <script src="/resources/style-guide/js/fluig-style-guide-ratingstars.min.js"></script>

            <link href='/webdesk/customresources?cid=1&resourceName=temaFormulario/0.css' type='text/css' rel='stylesheet' />
		</head>
        <body class="fluig-style-guide">
			
			<form class="totvs-form grid vertical create-form-components ui-sortable t0" name="createFormComponents" style="padding-left: 10px; padding-right: 10px;"><h1 class="title-form-application">Formulário de teste</h1><div class="paragraph-is-required system-message-information alert alert-info" role="alert">Todos os campos com * são de preenchimento obrigatório.</div>
			<div class="form-field" data-type="textbox" data-show-properties="" data-field-name="numero_app"><div class="form-input"><div class="form-group"><label>N° da APP</label><span class="required text-danger"><strong>*</strong></span><input type="text" class="form-control" name="numero_app" value="" placeholder="" data-size="big" required="required"></div></div></div><div class="form-field" data-type="zoomfield" data-show-properties="" data-field-name="nome_solicit"><div class="form-input"><div class="form-group"><label for="zoom">Solicitante</label><div class="input-group"><input type="zoom" class="form-control" name="nome_solicit" dataset="colleague" zoomvalue="colleagueId" datasetvalue="colleagueName" data-zoom="{'displayKey':'colleagueName','datasetId':'colleague','fields':[{'field':'colleagueName','label':'colleagueName','standard':true}]}"><div class="input-group-addon zoom-preview"><span class="fluigicon fluigicon-zoom-in"></span></div><input type="hidden" name="hidden_nome_solicit" id="hidden_nome_solicit"></div></div></div></div><div class="form-field" data-type="textbox" data-show-properties="" data-field-name="prod_proj">
		
		
		<div class="form-input"><div class="form-group">
		<label>Nome do produto/projeto</label><span class="required text-danger"><strong>*</strong></span>
		<input type="text" class="form-control" name="prod_proj" value="" placeholder="Insira o nome do produto ou projeto que será modificado" data-size="big" required="required">
	</div></div>
	</div><div class="form-field" data-type="textbox" data-show-properties="" data-field-name="prod_proj_cod">
		
		
		<div class="form-input"><div class="form-group">
		<label>Número do produto/projeto</label><span class="required text-danger"><strong>*</strong></span>
		<input type="text" class="form-control" name="prod_proj_cod" value="" placeholder="" data-size="big" required="required">
	</div></div>
	</div><div class="form-field" data-type="textarea" data-show-properties="" data-field-name="textarea4">
		
		
		<div class="form-input"><div class="form-group">
		<label>Necessidade de alteração</label><span class="required text-danger"><strong>*</strong></span>
		<textarea class="form-control" rows="3" name="textarea4" placeholder="" data-size="big" required="required"></textarea>
	</div></div>
	</div><div class="form-field" data-type="textarea" data-show-properties="" data-field-name="textarea5">
		
		
		<div class="form-input"><div class="form-group">
		<label>Motivo da alteração</label><span class="required text-danger"><strong>*</strong></span>
		<textarea class="form-control" rows="3" name="textarea5" placeholder="" data-size="big" required="required"></textarea>
	</div></div>
	</div><div class="form-field" data-type="textarea" data-show-properties="" data-field-name="textarea6">
		
		
		<div class="form-input"><div class="form-group">
		<label>Levantamento de estoque</label><span class="required text-danger"><strong>*</strong></span>
		<textarea class="form-control" rows="3" name="textarea6" placeholder="" data-size="big" required="required"></textarea>
	</div></div>
	</div><div class="form-field" data-type="textbox" data-show-properties="" data-field-name="textbox7">
		
		
		<div class="form-input"><div class="form-group">
		<label>Valor atual do equipamento</label>
		<input type="text" class="form-control" name="textbox7" value="" placeholder="" data-size="big" mask="#00.000.000.000.000,00" maxlength="22" data-only-numbers="true">
	</div></div>
	</div><div class="form-field" data-type="textbox" data-show-properties="" data-field-name="textbox8">
		
		
		<div class="form-input"><div class="form-group">
		<label>Valor do equipamento após alteração</label>
		<input type="text" class="form-control" name="textbox8" value="" placeholder="" data-size="big" mask="#00.000.000.000.000,00" maxlength="22" data-only-numbers="true">
	</div></div>
	</div><div class="form-field" data-type="tabledetail" data-show-properties="" data-field-name="Mat_ria_prima">
		
		
		<div class="form-input"><div class="form-group">
		<label>Matéria prima</label>
		<table tablename="tabledetailname2" class="table" noaddbutton="true">
			<thead>
				<tr class="tableHeadRow"><th class="tableColumn">Descrição</th>
				<th class="tableColumn">Quantidade Removida</th>
				<th class="tableColumn">Quantidade adicionada</th>
				<th class="tableColumn">Código do material</th>
				<th class="tableColumn">Unidade de medida</th></tr>
			</thead>
			<tbody>
				<tr class="tableBodyRow">
	<td class="fs-v-align-middle">
		<div class="form-input">
			<input type="text" name="column1_2" class="form-control">
		</div>
	</td>

	<td class="fs-v-align-middle">
		<div class="form-input">
			<input type="text" name="column2_2" class="form-control">
		</div>
	</td>

	<td class="fs-v-align-middle">
		<div class="form-input">
			<input type="text" name="column3_2" class="form-control">
		</div>
	</td>

	<td class="fs-v-align-middle">
		<div class="form-input">
			<input type="text" name="column4_2" class="form-control">
		</div>
	</td>

	<td class="fs-v-align-middle">
		<div class="form-input">
			<select class="form-control input-md" name="Unidade_medida" id="unidade_medida" dataset="unidade_medida" datasetkey="sigla" datasetvalue="descrição"></select>
		</div>
	</td>
</tr>
			</tbody>
		</table>
		<button type="button" class="btn btn-primary" onclick="wdkAddChild('tabledetailname2')">Novo Registro</button>
	</div></div>
	</div><div class="form-field" data-type="tabledetail" data-show-properties="" data-field-name="Tarefas">
		
		
		<div class="form-input"><div class="form-group">
		<label>Tarefas</label>
		<table tablename="tabledetailname1" class="table" noaddbutton="true">
			<thead>
				<tr class="tableHeadRow">
				<th class="tableColumn col-md-3">Responsável</th>
				<th class="tableColumn col-md-3">Ação</th>
				<th class="tableColumn col-md-2">Duração</th>
				<th class="tableColumn col-md-2">Data Inicial</th>
				<th class="tableColumn col-md-2">Data Final</th></tr>
			</thead>
			
			<tbody>
				<tr class="tableBodyRow">
	<td class="fs-v-align-middle">
		<div class="form-input">
		    <input type="zoom" 
			id = "colleagueName"
			name="colleagueName"
			data-zoom="{
			    'displayKey':'colleagueName',
			    'datasetId':'colleague',
			    'fields':[
				{
				    'field':'colleagueName',
				    'label':'Nome'
				}]
			}"  />
		</div>
	</td>

	<td class="fs-v-align-middle">
		<div class="form-input">
			<input type="text" name="column2_1" class="form-control">
		</div>
	</td>

	<td class="fs-v-align-middle">
		<div class="form-input">
			<input type="text" name="column3_1" class="form-control" mask="00:00">
		</div>
	</td>

	<td class="fs-v-align-middle">
		<div class="form-input">
			<input type="text" name="column4_1" class="form-control">
		</div>
	</td>

	<td class="fs-v-align-middle">
		<div class="form-input">
			<input type="text" name="column5_1" class="form-control">
		</div>
	</td>
</tr>
			</tbody>
		</table>
		<button type="button" class="btn btn-primary" onclick="wdkAddChild('tabledetailname1')">Nova Tarefa</button>
	</div></div>
	</div><div class="form-field" data-type="checkbox" data-show-properties="" data-field-name="checkbox11">
		
		<div class="form-input"><div class="form-group">
		<label>Setores impactados</label>
		<div class="check-options"><div class="checkbox">
		<label><input type="checkbox" name="checkbox11opc0" value="Vendas     " analytics="true" gooddataid="1">Vendas</label>

		<label><input type="checkbox" name="checkbox11opc1" value="PPCP     " analytics="true" gooddataid="2">PPCP</label>

		<label><input type="checkbox" name="checkbox11opc2" value="Automação     " analytics="true" gooddataid="3">Automação</label>

		<label><input type="checkbox" name="checkbox11opc3" value="Engenharia     " analytics="true" gooddataid="4">Engenharia</label>

		<label><input type="checkbox" name="checkbox11opc4" value="Elétrica" analytics="true" gooddataid="5">Elétrica</label>
		</div>
		</div>
		</div>
		</div>
		</div>
		
		<div class="form-field" data-type="combo" data-show-properties="" data-field-name="combo12">
		
		
		<div class="form-input"><div class="form-group">
		<label>Em estoque</label><span class="required text-danger"><strong>*</strong></span>
		<select class="form-control" name="combo12" required="required"><option value="Usar como está">Usar como está</option><option value="Descartar">Descartar</option><option value="Retrabalhar">Retrabalhar</option></select>
	</div></div>
	</div><div class="form-field" data-type="combo" data-show-properties="" data-field-name="combo13">
		
		
		<div class="form-input"><div class="form-group">
		<label>Vendidos</label><span class="required text-danger"><strong>*</strong></span>
		<select class="form-control" name="combo13" required="required"><option value="Usar como está">Usar como está</option><option value="Descartar">Descartar</option><option value="Retrabalhar">Retrabalhar</option></select>
	</div></div>
	</div><div class="form-field" data-type="combo" data-show-properties="" data-field-name="combo14">
		
		
		<div class="form-input"><div class="form-group">
		<label>Em produção</label><span class="required text-danger"><strong>*</strong></span>
		<select class="form-control" name="combo14" required="required"><option value="Usar como está">Usar como está</option><option value="Descartar">Descartar</option><option value="Retrabalhar">Retrabalhar</option></select>
	</div></div>
	</div><div class="form-field" data-type="combo" data-show-properties="" data-field-name="combo15">
		
		
		<div class="form-input"><div class="form-group">
		<label>Não iniciados</label><span class="required text-danger"><strong>*</strong></span>
		<select class="form-control" name="combo15" required="required"><option value="Usar como está">Usar como está</option><option value="Descartar">Descartar</option><option value="Retrabalhar">Retrabalhar</option></select>
	</div></div>
	</div></form>
		

			<script type="text/javascript">
				var keyDown = false, ctrl = 17, vKey = 86, Vkey = 118; 
				  
				$(document).keydown(function (e) {
					if (e.keyCode == ctrl) keyDown = true;
				}).keyup(function (e) {
					if (e.keyCode == ctrl) keyDown = false;
				});
				
				$('[data-only-numbers]').on('keypress', function (e) {
				    if (!e) {
					    var e = window.event;
					}
					
				    if (e.keyCode > 0 && e.which == 0) {
				    	 return true;
					}
					
				    if (e.keyCode) {
				        code = e.keyCode;
					} else if (e.which) {
				    	code = e.which;
					}

					if(code == 46) {
						return true;
					}
					
				    var character = String.fromCharCode(code);
				    if (character == '\b' || character == ' ' || character == '\t') {
				    	 return true;
					}
				    if (keyDown && (code == vKey || code == Vkey)) {
				    	return (character);
					} else  {
						return (/[0-9]$/.test(character));
					}
				}).on('focusout', function (e) {
				    var $this = $(this);
					if($this.val() == "") {
						return true;
					}
				    $this.val($this.val().replace(/[^0-9\.]/g, ''));
				}).on('paste', function (e) {
				    var $this = $(this);
				    setTimeout(function () {
				        $this.val($this.val().replace(/[^0-9\.]/g, ''));
				    }, 5);
				 });				

				

				$('.create-form-components').on('keyup', 'input[required="required"][type="text"], input[required="required"][type="number"], input[required="required"][type="date"], textarea[required="required"]', function(){
					validationFieldsForm($(this), $(this).parents('.form-field').data('type'));
				});

				$('.create-form-components').on('change', 'input[required="required"][type="checkbox"], input[required="required"][type="radio"], select[required="required"]', function(){
					validationFieldsForm($(this), $(this).parents('.form-field').data('type'));
				});

				function validationFieldsForm(field, type){
					if(type === "checkbox" || type === "radio"){
						if(!field.is(':checked')){
							field.parents('.form-field').addClass('required');
						}else{
							field.parents('.form-field').removeClass('required');
						}
					}else{
						if(!field.val().trim()){
							field.parents('.form-field').addClass('required');
						}else{
							field.parents('.form-field').removeClass('required');
						}
					}
				}

				var $zoomPreview = $(".zoom-preview");
				if ($zoomPreview.length) {
                    $zoomPreview.parent().removeClass("input-group");
                    $zoomPreview.remove();
                }

				var ratings = $(".rating");
				if (ratings.length > 0) ratingStars(ratings);
				function ratingStars(stars) {
					$.each(stars, function(i, obj) {
                        var field = $(this).closest(".form-group").find(".rating-value");
						var tgt = $(obj);
						tgt.html("");
						var rating = FLUIGC.stars(tgt, { value: field.val() });
                        rating.on("click", function(o) {
                            field.val($(this).index() + 1);
                        });
					});
				}

				$.each($("[data-date]"), function(i, o) {
                    var id = $(o).attr("id");
					FLUIGC.calendar("#" + id);
				});

				$(document).ready(function() {
					$.each($("[data-date]"), function(i, o) {
	                    var id = $(o).attr("id");
	                    if($("#" + id).attr("readonly")) {
	                    	$("#" + id).data('DateTimePicker').disable();
	                    }
					});
				});
				
				function addChild(){
				    var row = wdkAddChild("itens"); 				 
				    MaskEvent.init();
				}
				
			</script>
		</body>
	</html>